@use "sass:math";

$volume-holder-width: 32px;

$volume-width: 26px;
$volume-height: 100px;
$volume-bar-width: 4px;
$volume-padding: 20px;
$volume-dot-width: 4px;
$volume-holder-height: 100px;

$prefix-cls: vv-volume;

.#{$prefix-cls} {
  display: inline-flex;
  background-color: #aaa;
  //   transition:
  //     background-color ease 0.3s,
  //     height ease 0.3s;
  box-sizing: border-box;
  position: absolute;
  top: -$volume-holder-height - 8px;
  left: 50%;
  margin-left: math.div($volume-width, -2);
  width: $volume-width;
  height: $volume-holder-height;
  padding: 10px 10px;
  align-items: center;
  justify-content: center;

  &-holder {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.2);
    cursor: pointer;
    width: $volume-holder-width + 100px;
    height: $volume-holder-width;
    position: relative;
    box-sizing: border-box;

    // focus
    &:focus-visible {
      outline: transparent auto 0px;
    }

    &.#{$prefix-cls}-disabled {
      cursor: default !important;

      .#{$prefix-cls}-current-bar {
      }

      .#{$prefix-cls}-dot {
      }
    }

    &:hover:not(.#{$prefix-cls}-disabled) {
      .#{$prefix-cls}-bar {
        width: $volume-bar-width + 2px;

        .#{$prefix-cls}-dot {
          transform: scale(1.5);
          //   left: -1px;
          left: math.div($volume-dot-width + 4px - $volume-bar-width - 2px, -2);
        }
      }
    }
  }

  &-bar {
    position: relative;
    width: $volume-bar-width;
    height: 100%;
    background-color: #eee;
    transition: width ease 0.3s;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    top: 0;
  }

  &-dot {
    box-sizing: border-box;
    display: inline-block;
    background-color: #fff;
    width: $volume-dot-width + 4px;
    height: $volume-dot-width + 4px;
    transition:
      transform ease 0.3s,
      left ease 0.3s;
    border-radius: 50%;
    box-sizing: border-box;
    left: math.div($volume-bar-width, -2);
    font-size: 0;
    position: absolute;
    z-index: 2;
    bottom: 0;
  }
}
